From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: Kleis Auke Wolthuizen <github@kleisauke.nl>
Date: Sat, 25 Jun 2022 16:32:17 +0200
Subject: [PATCH 1/1] Fix signature of _munmap_js

Upstream-Status: Accepted [https://github.com/emscripten-core/emscripten/commit/70156c1f94cdfcfb1e333df72f380ffdacef293f]

diff --git a/src/library_syscall.js b/src/library_syscall.js
index 1111111..2222222 100644
--- a/src/library_syscall.js
+++ b/src/library_syscall.js
@@ -148,7 +148,7 @@ var SyscallsLibrary = {
     '$FS',
 #endif
   ],
-  _munmap_js__sig: 'vppiiip',
+  _munmap_js__sig: 'ippiiip',
   _munmap_js: function(addr, len, prot, flags, fd, offset) {
 #if FILESYSTEM && SYSCALLS_REQUIRE_FILESYSTEM
     var stream = SYSCALLS.getStreamFromFD(fd);
@@ -156,6 +156,7 @@ var SyscallsLibrary = {
       SYSCALLS.doMsync(addr, stream, len, flags, offset);
     }
     FS.munmap(stream);
+    // implicitly return 0
 #endif
   },
 
